<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory</title>
</head>
<body style="font-family: Arial, sans-serif; margin: 20px;">

<nav style="background-color: #007bff; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; color: white;">
    <div style="font-size: 1.5em; font-weight: bold;">MyApp</div>
    <div style="display: flex; gap: 20px;">
        <!-- Show "Login" and "Register" links if the user is not logged in -->
        <a th:if="${username == null}" href="/login" style="text-decoration: none; color: white; font-size: 1em;">Login</a>
        <a th:if="${username == null}" href="/register" style="text-decoration: none; color: white; font-size: 1em;">Register</a>

        <!-- Show "Basket", "Inventory", and "Profile" links if the user is logged in -->
        <a th:if="${username != null}" href="/basket" style="text-decoration: none; color: white; font-size: 1em;">Basket</a>
        <a th:if="${username != null}" href="/inventory" style="text-decoration: none; color: white; font-size: 1em;">Inventory</a>
    </div>
</nav>


<h2 style="color: #333;">Inventory</h2>

<!-- Category Filter -->
<form action="/inventory" method="get" style="margin-bottom: 20px;">
    <label for="category" style="margin-right: 10px;">Filter by Category:</label>
    <select id="category" name="category" style="padding: 5px;">
        <option value="" th:selected="${selectedCategory == null || selectedCategory == ''}">All</option>
        <option value="audio" th:selected="${selectedCategory == 'audio'}">Audio</option>
        <option value="light" th:selected="${selectedCategory == 'light'}">Light</option>
        <option value="podium" th:selected="${selectedCategory == 'podium'}">Podium</option>
    </select>
    <button type="submit" style="padding: 5px 10px; margin-left: 10px;">Filter</button>
</form>

<table style="width: 100%; border-collapse: collapse;">
    <thead>
    <tr style="background-color: #007bff; color: white; text-align: left;">
        <th style="padding: 8px; border: 1px solid #ddd;">Name</th>
        <th style="padding: 8px; border: 1px solid #ddd;">Category</th>
        <th style="padding: 8px; border: 1px solid #ddd;">Description</th>
        <th style="padding: 8px; border: 1px solid #ddd;">Image</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="toestel : ${toestellen}">
        <td style="padding: 8px; border: 1px solid #ddd;" th:text="${toestel.name}"></td>
        <td style="padding: 8px; border: 1px solid #ddd;" th:text="${toestel.category}"></td>
        <td style="padding: 8px; border: 1px solid #ddd;" th:text="${toestel.uitleg}"></td>
        <td style="padding: 8px; border: 1px solid #ddd;">
            <img th:src="${toestel.image}" alt="Image" style="max-width: 100px;"/>
            <form action="/addToBasket" method="POST">
                <input type="hidden" name="name" th:value="${toestel.name}" />
                <button type="submit" style="padding: 5px 10px; background-color: #28a745; color: white; border: none; border-radius: 4px;">Add to Basket</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>

</body>
</html>
